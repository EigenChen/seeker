# Git å·¥ä½œåŒºåŸŸè¯¦è§£

## ğŸ“š Gitçš„å››ä¸ªæ ¸å¿ƒåŒºåŸŸ

Gitç®¡ç†ä»£ç æ—¶ï¼Œæ–‡ä»¶åœ¨ä»¥ä¸‹å››ä¸ªåŒºåŸŸä¹‹é—´æµè½¬ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Working Dir   â”‚â”€â”€â”€â–¶â”‚  Staging Area   â”‚â”€â”€â”€â–¶â”‚ Local Repositoryâ”‚â”€â”€â”€â–¶â”‚Remote Repositoryâ”‚
â”‚   (å·¥ä½œç›®å½•)     â”‚    â”‚   (æš‚å­˜åŒº)      â”‚    â”‚   (æœ¬åœ°ä»“åº“)     â”‚    â”‚   (è¿œç¨‹ä»“åº“)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚                       â”‚
        â”‚                       â”‚                       â”‚                       â”‚
   å®é™…ç¼–è¾‘æ–‡ä»¶              git add               git commit             git push
```

---

## ğŸ—‚ï¸ **1. å·¥ä½œç›®å½• (Working Directory)**

### å®šä¹‰
- **ä½ç½®**: æ‚¨å®é™…ç¼–è¾‘æ–‡ä»¶çš„åœ°æ–¹
- **å†…å®¹**: å½“å‰æ£€å‡ºåˆ†æ”¯çš„æ–‡ä»¶å‰¯æœ¬
- **çŠ¶æ€**: å¯ä»¥è¢«ä¿®æ”¹ã€åˆ é™¤ã€æ–°å¢

### æ–‡ä»¶çŠ¶æ€
```bash
# æŸ¥çœ‹å·¥ä½œç›®å½•çŠ¶æ€
git status

# å¯èƒ½çš„çŠ¶æ€
- Untracked files     # æ–°æ–‡ä»¶ï¼ŒGitè¿˜ä¸çŸ¥é“
- Modified files      # å·²ä¿®æ”¹çš„æ–‡ä»¶
- Deleted files       # å·²åˆ é™¤çš„æ–‡ä»¶
```

### å®é™…ä¾‹å­ (seekeré¡¹ç›®)
```bash
# å½“æ‚¨åœ¨VS Codeä¸­ç¼–è¾‘ä»£ç æ—¶
c:\UGit\seeker\server\src\main\java\com\seeker\LocationController.java

# è¿™ä¸ªæ–‡ä»¶å°±åœ¨å·¥ä½œç›®å½•ä¸­
# ä¿®æ”¹åï¼ŒGitä¼šæ£€æµ‹åˆ°å˜åŒ–
```

---

## ğŸ“‹ **2. æš‚å­˜åŒº (Staging Area / Index)**

### å®šä¹‰
- **ä½ç½®**: `.git/index` æ–‡ä»¶
- **ä½œç”¨**: å‡†å¤‡ä¸‹æ¬¡æäº¤çš„æ–‡ä»¶å¿«ç…§
- **ç‰¹ç‚¹**: ä»‹äºå·¥ä½œç›®å½•å’Œæœ¬åœ°ä»“åº“ä¹‹é—´çš„ç¼“å†²åŒº

### æ ¸å¿ƒæ¦‚å¿µ
```bash
# æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add filename.java           # æ·»åŠ ç‰¹å®šæ–‡ä»¶
git add .                       # æ·»åŠ æ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶
git add *.java                  # æ·»åŠ æ‰€æœ‰Javaæ–‡ä»¶

# æŸ¥çœ‹æš‚å­˜åŒºçŠ¶æ€
git status                      # æŸ¥çœ‹å“ªäº›æ–‡ä»¶åœ¨æš‚å­˜åŒº
git diff --cached               # æŸ¥çœ‹æš‚å­˜åŒºä¸ä¸Šæ¬¡æäº¤çš„å·®å¼‚
```

### æš‚å­˜åŒºçš„ä½œç”¨
1. **ç²¾ç¡®æ§åˆ¶æäº¤å†…å®¹**: åªæäº¤æ‚¨æƒ³è¦çš„ä¿®æ”¹
2. **åˆ†æ‰¹æäº¤**: å¯ä»¥å°†å¤§çš„ä¿®æ”¹åˆ†æˆå¤šä¸ªå°æäº¤
3. **æ’¤é”€ä¿®æ”¹**: å¯ä»¥ä»æš‚å­˜åŒºç§»é™¤ä¸éœ€è¦çš„ä¿®æ”¹

### å®é™…ä¾‹å­
```bash
# åœºæ™¯ï¼šåŒæ—¶ä¿®æ”¹äº†å¤šä¸ªæ–‡ä»¶
git status
# Modified: LocationController.java
# Modified: LocationService.java  
# Modified: README.md

# åªæƒ³æäº¤ä¸šåŠ¡ä»£ç ï¼Œä¸æäº¤æ–‡æ¡£
git add LocationController.java
git add LocationService.java

# ç°åœ¨æš‚å­˜åŒºåªæœ‰ä¸šåŠ¡ä»£ç 
git status
# Changes to be committed:
#   modified: LocationController.java
#   modified: LocationService.java
# Changes not staged for commit:
#   modified: README.md
```

---

## ğŸ›ï¸ **3. æœ¬åœ°ä»“åº“ (Local Repository)**

### å®šä¹‰
- **ä½ç½®**: `.git` ç›®å½•
- **å†…å®¹**: æ‰€æœ‰æäº¤çš„å†å²è®°å½•
- **ç‰¹ç‚¹**: å®Œæ•´çš„é¡¹ç›®å†å²ï¼Œå¯ä»¥ç¦»çº¿å·¥ä½œ

### æ ¸å¿ƒç»„æˆ
```bash
.git/
â”œâ”€â”€ objects/        # å­˜å‚¨æ‰€æœ‰çš„Gitå¯¹è±¡ï¼ˆæäº¤ã€æ ‘ã€æ–‡ä»¶ï¼‰
â”œâ”€â”€ refs/           # å­˜å‚¨åˆ†æ”¯å’Œæ ‡ç­¾å¼•ç”¨
â”œâ”€â”€ HEAD            # æŒ‡å‘å½“å‰åˆ†æ”¯
â”œâ”€â”€ index           # æš‚å­˜åŒº
â””â”€â”€ config          # ä»“åº“é…ç½®
```

### æäº¤æ“ä½œ
```bash
# ä»æš‚å­˜åŒºåˆ›å»ºæäº¤
git commit -m "æäº¤ä¿¡æ¯"

# æŸ¥çœ‹æäº¤å†å²
git log
git log --oneline       # ç®€æ´æ ¼å¼
git log --graph         # å›¾å½¢åŒ–æ˜¾ç¤º

# æŸ¥çœ‹ç‰¹å®šæäº¤
git show commit-hash
```

### æœ¬åœ°ä»“åº“çš„ä¼˜åŠ¿
1. **ç¦»çº¿å·¥ä½œ**: ä¸éœ€è¦ç½‘ç»œä¹Ÿèƒ½æŸ¥çœ‹å†å²ã€åˆ›å»ºåˆ†æ”¯
2. **å¿«é€Ÿæ“ä½œ**: æœ¬åœ°æ“ä½œé€Ÿåº¦å¿«
3. **å®Œæ•´å¤‡ä»½**: åŒ…å«å®Œæ•´çš„é¡¹ç›®å†å²

---

## ğŸŒ **4. è¿œç¨‹ä»“åº“ (Remote Repository)**

### å®šä¹‰
- **ä½ç½®**: GitHubã€GitLabç­‰è¿œç¨‹æœåŠ¡å™¨
- **ä½œç”¨**: å›¢é˜Ÿåä½œã€å¤‡ä»½ã€éƒ¨ç½²
- **ç‰¹ç‚¹**: å¤šäººå…±äº«çš„ä¸­å¤®ä»“åº“

### è¿œç¨‹æ“ä½œ
```bash
# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main

# ä»è¿œç¨‹ä»“åº“æ‹‰å–
git pull origin main

# è·å–è¿œç¨‹æ›´æ–°ï¼ˆä¸åˆå¹¶ï¼‰
git fetch origin
```

### æˆ‘ä»¬çš„seekeré¡¹ç›®
```bash
# è¿œç¨‹ä»“åº“åœ°å€
origin  https://github.com/EigenChen/seeker.git

# æ¨é€æœ¬åœ°æäº¤åˆ°GitHub
git push origin main
```

---

## ğŸ”„ **æ–‡ä»¶åœ¨å„åŒºåŸŸé—´çš„æµè½¬**

### å®Œæ•´çš„å·¥ä½œæµç¨‹
```bash
# 1. åœ¨å·¥ä½œç›®å½•ä¸­ä¿®æ”¹æ–‡ä»¶
echo "æ–°åŠŸèƒ½" >> LocationController.java

# 2. æŸ¥çœ‹å·¥ä½œç›®å½•çŠ¶æ€
git status
# Modified: LocationController.java

# 3. æ·»åŠ åˆ°æš‚å­˜åŒº
git add LocationController.java

# 4. æŸ¥çœ‹æš‚å­˜åŒºçŠ¶æ€
git status
# Changes to be committed:
#   modified: LocationController.java

# 5. æäº¤åˆ°æœ¬åœ°ä»“åº“
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 6. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main
```

### å„ç§æ’¤é”€æ“ä½œ
```bash
# æ’¤é”€å·¥ä½œç›®å½•çš„ä¿®æ”¹
git checkout -- filename       # æ¢å¤åˆ°ä¸Šæ¬¡æäº¤çŠ¶æ€
git restore filename            # Git 2.23+æ–°å‘½ä»¤

# æ’¤é”€æš‚å­˜åŒºçš„ä¿®æ”¹
git reset HEAD filename         # ä»æš‚å­˜åŒºç§»é™¤ï¼Œä¿ç•™å·¥ä½œç›®å½•ä¿®æ”¹
git restore --staged filename   # Git 2.23+æ–°å‘½ä»¤

# æ’¤é”€æœ¬åœ°ä»“åº“çš„æäº¤
git reset HEAD~1                # æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Œä¿ç•™ä¿®æ”¹
git reset --hard HEAD~1         # æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼Œä¸¢å¼ƒä¿®æ”¹
```

---

## ğŸ“Š **seekeré¡¹ç›®çš„åŒºåŸŸç¤ºä¾‹**

### å½“å‰é¡¹ç›®çŠ¶æ€
```bash
# å·¥ä½œç›®å½•
c:\UGit\seeker\
â”œâ”€â”€ server/                 # Spring Bootåç«¯
â”œâ”€â”€ android-client/         # Androidå®¢æˆ·ç«¯
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â””â”€â”€ .rules/                 # å¼€å‘è§„èŒƒ

# æš‚å­˜åŒºï¼ˆåˆšæ‰çš„æ“ä½œï¼‰
git add docs/development-log.md

# æœ¬åœ°ä»“åº“ï¼ˆå·²æœ‰çš„æäº¤ï¼‰
- feat: åˆå§‹åŒ–ä½ç½®è¿½è¸ªé¡¹ç›®
- cleanup: åˆ é™¤æ ¹ç›®å½•ä¸­é‡å¤çš„.mdcæ–‡ä»¶
- docs: æ·»åŠ Gitå’ŒMavenå¸¸ç”¨å‘½ä»¤å‚è€ƒæ–‡æ¡£

# è¿œç¨‹ä»“åº“
https://github.com/EigenChen/seeker.git
```

### æ—¥å¸¸å¼€å‘æµç¨‹
```bash
# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 2. å¼€å‘æ–°åŠŸèƒ½ï¼ˆå·¥ä½œç›®å½•ï¼‰
# ä¿®æ”¹ LocationController.java

# 3. æŸ¥çœ‹ä¿®æ”¹
git status
git diff

# 4. æ·»åŠ åˆ°æš‚å­˜åŒº
git add LocationController.java

# 5. æäº¤åˆ°æœ¬åœ°ä»“åº“
git commit -m "feat: ä¼˜åŒ–ä½ç½®ä¸Šä¼ æ¥å£"

# 6. æ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main
```

---

## ğŸ¯ **æœ€ä½³å®è·µå»ºè®®**

### 1. **æš‚å­˜åŒºçš„å¦™ç”¨**
```bash
# åˆ†æ‰¹æäº¤ç›¸å…³ä¿®æ”¹
git add database/           # åªæ·»åŠ æ•°æ®åº“ç›¸å…³ä¿®æ”¹
git commit -m "feat: æ•°æ®åº“ä¼˜åŒ–"

git add api/               # å†æ·»åŠ APIç›¸å…³ä¿®æ”¹
git commit -m "feat: APIæ¥å£æ”¹è¿›"
```

### 2. **å·¥ä½œç›®å½•ç®¡ç†**
```bash
# å®šæœŸæ¸…ç†å·¥ä½œç›®å½•
git clean -f -d            # åˆ é™¤æœªè·Ÿè¸ªçš„æ–‡ä»¶å’Œç›®å½•
git checkout .              # æ’¤é”€æ‰€æœ‰æœªæš‚å­˜çš„ä¿®æ”¹
```

### 3. **æäº¤ç²’åº¦æ§åˆ¶**
```bash
# å¥½çš„æäº¤ï¼šåŠŸèƒ½å•ä¸€ï¼Œæè¿°æ¸…æ™°
git commit -m "feat: æ·»åŠ GPSæƒé™æ£€æŸ¥"

# é¿å…ï¼šä¸€æ¬¡æäº¤åŒ…å«å¤ªå¤šä¸ç›¸å…³çš„ä¿®æ”¹
git commit -m "ä¿®æ”¹äº†å¾ˆå¤šä¸œè¥¿"
```

### 4. **è¿œç¨‹ä»“åº“åŒæ­¥**
```bash
# æ¨é€å‰å…ˆæ‹‰å–
git pull origin main
git push origin main

# æˆ–è€…ä½¿ç”¨å˜åŸºæ–¹å¼
git pull --rebase origin main
git push origin main
```

---

## ğŸ” **å¸¸ç”¨æŸ¥çœ‹å‘½ä»¤**

### æŸ¥çœ‹å„åŒºåŸŸçŠ¶æ€
```bash
# å·¥ä½œç›®å½•çŠ¶æ€
git status

# å·¥ä½œç›®å½•ä¸æš‚å­˜åŒºå·®å¼‚
git diff

# æš‚å­˜åŒºä¸æœ€åæäº¤å·®å¼‚
git diff --cached

# å·¥ä½œç›®å½•ä¸æœ€åæäº¤å·®å¼‚
git diff HEAD

# æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph --all
```

### æŸ¥çœ‹æ–‡ä»¶åœ¨å„åŒºåŸŸçš„ç‰ˆæœ¬
```bash
# å·¥ä½œç›®å½•ç‰ˆæœ¬
cat filename.java

# æš‚å­˜åŒºç‰ˆæœ¬
git show :filename.java

# æœ€åæäº¤ç‰ˆæœ¬
git show HEAD:filename.java

# ç‰¹å®šæäº¤ç‰ˆæœ¬
git show commit-hash:filename.java
```

---

ç†è§£è¿™å››ä¸ªåŒºåŸŸæ˜¯æŒæ¡Gitçš„å…³é”®ï¼æ¯ä¸ªåŒºåŸŸéƒ½æœ‰å…¶ç‰¹å®šçš„ä½œç”¨ï¼Œåˆç†ä½¿ç”¨å¯ä»¥è®©æ‚¨çš„ç‰ˆæœ¬æ§åˆ¶æ›´åŠ ç²¾ç¡®å’Œé«˜æ•ˆã€‚

å¯¹äºæˆ‘ä»¬çš„seekeré¡¹ç›®ï¼Œè¿™ä¸ªç†è§£ç‰¹åˆ«é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å¤šä¸ªæ¨¡å—ï¼ˆserverã€android-clientã€docsï¼‰ï¼Œéœ€è¦ç²¾ç¡®æ§åˆ¶å“ªäº›ä¿®æ”¹ä¸€èµ·æäº¤ã€‚ ğŸ¯
